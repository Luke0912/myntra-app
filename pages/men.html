<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="men.css">
</head>

<body>
    
    <div id="top">
        <p>Home / Clothing / Men Clothing</p>

        <div id="sorting">
        <h3 >FILTERS</h3>
       
         <select id="priceSort" onchange="handlePriceSort()">
            <option value="">Sort By : <h4>Recommended</h4></option>
            <option value="high">High to low</option>
            <option value="low">Low to high</option>
          </select>
        </div>  
    </div>
    <hr id = "tophr">
    <div id="bottom">
        <div id="left">

          
            <h3>Categories</h3>
           
            <input type="checkbox" class="categoryS" value="Shoes" onclick="categorys()">Shoes</input><br>
            <input type="checkbox" class="categoryJ" value="Jacket" onclick="categoryJ()">Jacket</input><br>
            <input type="checkbox" class="categoryje" value="Jeans" onclick="categoryje()">Jeans</input><br>
            <input type="checkbox" class="categoryC" value="Casual Shirts" onclick="categoryC()">Casual Shirts</input><br>
             
           

              <hr id="bottomhr">

              <h3>Brand</h3>

              <input type="checkbox" id="filterbrandA" value="ADIDAS" onclick="filterbrandA()">Adidas</input><br>
              <input type="checkbox" id="filterbrandN" value="NIKE" onclick="filterbrandN()">Nike</input><br>
              <input type="checkbox" id="filterbrandR" value="ROADSTER" onclick="filterbrandR()">Roadster</input><br>
              <input type="checkbox" id="filterbrandW" value="WROGN" onclick="filterbrandW()">Wrogn</input><br>
                <!-- <option value="">Filter By Brand Name</option>
                <option  value="NIKE">Nike</option>
                <option  value="ADIDAS">Adidas</option>
                <option  value="ROADSTER">Roadster</option>
                <option  value="WROGN">Wrogn</option> -->
          
        </div>
        <div id="container">

        </div>
    </div>
</body>
</html>

<script>
    var mensData = JSON.parse(localStorage.getItem("mensData"))
    console.log(mensData);

    var cart =JSON.parse(localStorage.getItem("CartItems"))||[]

    displayData(mensData);

    var wishlist =JSON.parse(localStorage.getItem("WishlistItems"))||[]

    displayData(mensData);

    

function handlePriceSort(){
   var selected = document.querySelector("#priceSort").value
   console.log(selected)
   if(selected == "high"){
     //decending
     mensData.sort(function(a,b){
       return b.price-a.price
     })
     
   }
   if(selected == "low"){
     //accending
     mensData.sort(function(a,b){
       return a.price-b.price;
     })
   }
   // console.log(mensdata)
   displayData(mensData);

 }

 function filterbrandA(){
   var selected = document.querySelector("#filterbrandA").value
   console.log(selected);

   var filtername = mensData.filter(function(elem){
     return elem.brandname == selected;
   })
   console.log(filtername)
   displayData(filtername)
 }

 function filterbrandN(){
   var selected = document.querySelector("#filterbrandN").value
   console.log(selected);

   var filtername = mensData.filter(function(elem){
     return elem.brandname == selected;
   })
   console.log(filtername)
   displayData(filtername)
 }

 function filterbrandW(){
   var selected = document.querySelector("#filterbrandW").value
   console.log(selected);

   var filtername = mensData.filter(function(elem){
     return elem.brandname == selected;
   })
   console.log(filtername)
   displayData(filtername)
 }

 function filterbrandR(){
   var selected = document.querySelector("#filterbrandR").value
   console.log(selected);

   var filtername = mensData.filter(function(elem){
     return elem.brandname == selected;
   })
   console.log(filtername)
   displayData(filtername)
 }

 displayData(mensData)

 function categorys(){
     var selectcategory = document.querySelector(".categoryS").value
     console.log(selectcategory)
     var categoryname = mensData.filter(function(elem){
         return elem.category == selectcategory;
     })
     displayData(categoryname)
 }

 function categoryJ(){
     var selectcategory = document.querySelector(".categoryJ").value
     console.log(selectcategory)
     var categoryname = mensData.filter(function(elem){
         return elem.category == selectcategory;
     })
     displayData(categoryname)
 }

 function categoryje(){
     var selectcategory = document.querySelector(".categoryje").value
     console.log(selectcategory)
     var categoryname = mensData.filter(function(elem){
         return elem.category == selectcategory;
     })
     displayData(categoryname)
 }

 function categoryC(){
     var selectcategory = document.querySelector(".categoryC").value
     console.log(selectcategory)
     var categoryname = mensData.filter(function(elem){
         return elem.category == selectcategory;
     })
     displayData(categoryname)
 }

               function displayData(mensData){
   document.querySelector("#container").innerHTML=""

   mensData.map(function (data){
       var div = document.createElement("div");

       //create image
       var img = document.createElement('img');
       img.setAttribute("src",data.image_link);

       //name creation
       var name = document.createElement("p");
       name.textContent = data.name;

       var brand =document.createElement("h4");
       brand.textContent = data.brandname;

       //price  creation;
       var div2 = document.createElement("div");
       div2.setAttribute("id","flex")
 

       var p1=document.createElement("p")
       p1.style.fontWeight="700"
       p1.textContent=`Rs.${data.price}`

       var p2=document.createElement("p")
       p2.textContent=`Rs.${data.strikedoffprice}`
       p2.style.textDecoration = "Line-through"

       var p3 = document.createElement("p")
       p3.setAttribute("id","percentoff")
       p3.textContent = "( "+(Math.floor((data.strikedoffprice-data.price)/(data.strikedoffprice)*100))+"%off)"

       div2.append(p1,p2,p3)

       

     
       // wishlist
       var btn1 = document.createElement("button")
       btn1.setAttribute("id","menwishlist") 
       btn1.textContent = " â™¡ WISHLIST"

       btn1.addEventListener("click",function(){
         addtowishlist(data);
       });


       //  add to bag
       var btn = document.createElement("button")
       btn.setAttribute("id","bagmen")
       btn.textContent = "MOVE TO BAG";


       btn.addEventListener("click",function(){
         addtocart(data);
       });

       

       //append
       div.append(img,btn1,brand,name,div2,btn)


       document.querySelector("#container").append(div)
   })
 }

 function addtocart(data){
     console.log(data, "data");
     cart.push(data);
     localStorage.setItem("CartItems",JSON.stringify(cart))
     alert("added successfully");

   }

   function addtowishlist(data){
    //  console.log(data, "data");
     wishlist.push(data);
     localStorage.setItem("WishlistItems",JSON.stringify(wishlist))
     alert("added to wishlist");

   }
</script>