<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #containerwish{
    display:grid;
    grid-template-columns: repeat(4,1fr);
   
    color:rgb(26, 25, 25);
    /* margin:4%; */
    /* width:80%; */
    grid-gap:4%;
    /* margin-left: 200px; */
    /* margin-top:-150px; */
    /* border-left: 1px solid grey; */
    padding:5%;
    /* margin-top: 10%; */
    width:90%;
    /* margin:auto; */
    margin-bottom: 10%;
    /* margin-top: */
   
    
}
#containerwish>div{
    background-color:whitesmoke;
     /* margin:2%; */
     /* border-radius:5px;      */
}
#containerwish>div:hover{
    box-shadow: rgba(0, 0, 0, 0.08) 0px 4px 12px;
}
img{
    height:60%;
    width:100%
}
#flexwish{
    margin-top:2%;
  display:flex;
  justify-content: space-between;
  /* margin-left:-5% ; */


}
p,h4{
    margin-left:0px;
    margin-top:0px;
   
}
h4{
    margin-bottom:2%;
}
/* body{
    font-family: sans-serif;
} */
/* #top{    
   font-size: 15px;
} */

/* #priceSort{
   margin-left:70%;
   width:18%;
   height:40px;
   margin-bottom: -50px;
} */
/* #sorting{
   display:flex
} */
/* #top>hr{
   margin-top:-10px
}
#left{
   width:15%;
   
} */
#bagwish{
    color:white;
    width:90%;
    height:30px;
    /* text-align: center; */
    font-size:small;
    border:0;
    margin-top:-10px;
    background-color:rgb(230, 20, 125);
    border-radius:15px;
    display:block;
    margin:auto;

}

#percentoffwish{
    color:red;
}
/* #wishlist{
    width:100%;
    padding:10px;
    background-color: white;
    border:1px solid grey;
}
#tophr{
    margin-top:-10px
} */

h2{
    margin-top:10%;
    font-family: Whitney,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    margin-left:5%;
    margin-bottom: 0 ;
}

@media only screen and(min-width:0px)and (max-width:320px){
    #containerwish{
      
        grid-template-columns: 1fr;
      /* grid-template-rows: repeat(11, 600px); */
    }
}
@media only screen and(min-width:321px)and (max-width:720px){
    #containerwish{

        grid-template-columns: repeat(2, 1fr);
      
    }
}

#deletewish{
    width:50%;
    padding:2px;
    margin:auto;
    display: block;
    margin-top: 2%;
    border-radius: 5px;
    border:0;
    background-color:thistle;
}


    </style>
</head>
<body>
   <h2></h2>
    <div id="containerwish"></div>
</body>
</html>
<script>
     var wishlistArr=JSON.parse(localStorage.getItem("WishlistItems"));

    document.querySelector("h2").textContent=`My Wishlist ${wishlistArr.length} items`
     displayData(wishlistArr);
     var cart =JSON.parse(localStorage.getItem("CartItems"))||[]

     function displayData(mensData){
   document.querySelector("#containerwish").innerHTML=""

   mensData.map(function (data,index){
       var div = document.createElement("div");

       //create image
       var img = document.createElement('img');
       img.setAttribute("src",data.image_link);

       //name creation
       var name = document.createElement("p");
       name.textContent = data.name;

       var brand =document.createElement("h4");
       brand.textContent = data.brandname;

       //price  creation;
       var div2 = document.createElement("div");
       div2.setAttribute("id","flexwish")
 

       var p1=document.createElement("p")
       p1.style.fontWeight="700"
       p1.textContent=`Rs.${data.price}`

       var p2=document.createElement("p")
       p2.textContent=`Rs.${data.strikedoffprice}`
       p2.style.textDecoration = "Line-through"

       var p3 = document.createElement("p")
       p3.setAttribute("id","percentoffwish")
       p3.textContent = "( "+(Math.floor((data.strikedoffprice-data.price)/(data.strikedoffprice)*100))+"%off)"

       div2.append(p1,p2,p3)

       

       ///add to cart button creation
       
    //    var btn1 = document.createElement("button")
    //    btn1.setAttribute("id","wishlist") 
    //    btn1.textContent = " â™¡ WISHLIST"

    //    btn1.addEventListener("click",function(){
    //      addtowishlist(data);
    //    });

       var btn = document.createElement("button")
       btn.setAttribute("id","bagwish")
       btn.textContent = "MOVE TO BAG";

       ///add eventlistener

       btn.addEventListener("click",function(){
         addtocart(data);
       });
       
       var dltbtn=document.createElement("button");
       dltbtn.textContent="Delete";
       dltbtn.setAttribute("id","deletewish");
       dltbtn.addEventListener("click",function(){
        deletewish(index);
       })
    
       //append
       div.append(img,brand,name,div2,btn,dltbtn)

    //   var wishlistlength= document.createElement("h1");
    //   wishlistlength.textContent=`Total no of products ${wishlistArr}`
    //   wishlistlength.append("body");

       document.querySelector("#containerwish").append(div)
   })
 }



 function addtocart(data){
     console.log(data, "data");
     cart.push(data);
     localStorage.setItem("CartItems",JSON.stringify(cart))
     alert("added successfully");

   }


   function deletewish(index){
       wishlistArr.splice(index,1);
       localStorage.setItem("wishlistdlt",JSON.stringify(wishlistArr));
       displayData(wishlistArr);
   }
</script>